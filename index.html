<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ä¸­2ç†ç§‘1åˆ†é‡3å­¦æœŸå­¦å¹´æœ«è©¦é¨“å¯¾ç­–</title>
    <style>
        :root {
            --primary-color: #2563eb;
            --secondary-color: #1e40af;
            --accent-color: #f59e0b;
            --text-color: #1f2937;
            --bg-color: #f3f4f6;
            --card-bg: #ffffff;
            --success-color: #10b981;
            --danger-color: #ef4444;
        }

        * {
            box-sizing: border-box;
            touch-action: manipulation; /* ã‚¹ãƒãƒ›ã§ã®æ“ä½œæ€§å‘ä¸Š */
        }

        body {
            font-family: "Hiragino Kaku Gothic ProN", "Noto Sans JP", sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            align-items: center;
        }

        /* ãƒ˜ãƒƒãƒ€ãƒ¼ */
        header {
            width: 100%;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 1rem;
            text-align: center;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            position: relative;
            z-index: 10;
        }

        h1 {
            margin: 0;
            font-size: 1.2rem;
            font-weight: 700;
        }

        .version {
            font-size: 0.8rem;
            opacity: 0.8;
            margin-top: 0.2rem;
        }

        /* ã‚³ãƒ³ãƒ†ãƒŠ */
        #app-container {
            width: 100%;
            max-width: 600px;
            padding: 1rem;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        /* ç”»é¢åˆ‡ã‚Šæ›¿ãˆç”¨ */
        .screen {
            display: none;
            animation: fadeIn 0.3s ease-in-out;
            width: 100%;
        }

        .screen.active {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³ */
        .menu-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
        }

        button {
            background-color: white;
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
            padding: 1rem;
            font-size: 1.1rem;
            font-weight: bold;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            width: 100%;
        }

        button:active {
            transform: scale(0.98);
        }

        /* å°ã•ãªãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ç”¨ */
        .btn-small-nav {
            width: auto;
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
            background: transparent;
            border: 1px solid #9ca3af;
            color: #6b7280;
            box-shadow: none;
            margin: 0;
        }

        .category-btn {
            text-align: left;
            position: relative;
            padding-left: 1.5rem;
        }

        .category-btn::before {
            content: "â—";
            position: absolute;
            left: 0.5rem;
            color: var(--accent-color);
        }

        .mode-select {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .mode-btn {
            flex: 1;
            background: #e5e7eb;
            border: none;
            color: #6b7280;
        }

        .mode-btn.selected {
            background: var(--primary-color);
            color: white;
            box-shadow: 0 4px 6px rgba(37, 99, 235, 0.3);
        }

        /* çµ±åˆãƒ»ç™ºå±•ãƒœã‚¿ãƒ³ã®ç‰¹åˆ¥ã‚¹ã‚¿ã‚¤ãƒ« */
        .btn-all {
            background: var(--primary-color);
            color: white;
            border: none;
        }
        
        .btn-advanced {
            border-color: var(--danger-color);
            color: var(--danger-color);
            background: #fff5f5;
        }

        /* ã‚¯ã‚¤ã‚ºã‚«ãƒ¼ãƒ‰ */
        .card-container {
            perspective: 1000px;
            width: 100%;
            height: 400px; /* å›ºå®šé«˜ã• */
            position: relative;
            cursor: pointer;
        }

        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s cubic-bezier(0.4, 0.2, 0.2, 1);
            border-radius: 20px;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
        }

        .card.flipped {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            background: var(--card-bg);
            border-radius: 20px;
            text-align: center;
        }

        .card-back {
            transform: rotateY(180deg);
            background: #f0f9ff;
            border: 2px solid var(--primary-color);
            justify-content: space-between; /* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’åˆ†æ•£ */
            padding: 1.5rem;
        }
        
        /* ç­”ãˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆä¿®æ­£ç”¨: ä¸­å¤®å¯„ã› */
        .answer-content {
            width: 100%;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .question-text {
            font-size: 1.4rem;
            font-weight: bold;
            line-height: 1.5;
        }

        .answer-text {
            font-size: 1.8rem;
            font-weight: 900;
            color: var(--danger-color);
            margin-bottom: 1rem;
        }

        .explanation-text {
            font-size: 1rem;
            color: #4b5563;
            text-align: left;
            background: white;
            padding: 1rem;
            border-radius: 8px;
            width: 100%;
            max-height: 150px;
            overflow-y: auto;
            border-left: 4px solid var(--accent-color);
        }

        .tap-hint {
            margin-top: 1rem;
            font-size: 0.8rem;
            color: #9ca3af;
        }

        /* åˆ¤å®šãƒœã‚¿ãƒ³ */
        .judgment-area {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
            height: 60px;
        }

        .btn-ng {
            background-color: #fee2e2;
            color: var(--danger-color);
            border: none;
            flex: 1;
        }

        .btn-ok {
            background-color: #d1fae5;
            color: var(--success-color);
            border: none;
            flex: 1;
        }

        /* ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ */
        .progress-container {
            width: 100%;
            background-color: #e5e7eb;
            border-radius: 999px;
            height: 10px;
            margin-bottom: 1rem;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background-color: var(--primary-color);
            transition: width 0.3s ease;
            width: 0%;
        }

        /* ã‚¿ã‚¤ãƒãƒ¼è¡¨ç¤º */
        .timer-display {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--primary-color);
            font-variant-numeric: tabular-nums; /* æ•°å­—ã®å¹…ã‚’æƒãˆã‚‹ */
        }

        /* çµæœç”»é¢ */
        .result-stats {
            background: white;
            padding: 2rem;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }

        .score-display {
            font-size: 3rem;
            font-weight: bold;
            color: var(--primary-color);
            margin: 1rem 0 0.5rem 0;
        }

        .time-result {
            font-size: 1.1rem;
            color: #6b7280;
            margin-bottom: 1.5rem;
            font-weight: bold;
        }

        .message {
            font-size: 1.2rem;
            margin-bottom: 2rem;
        }

        .btn-retry {
            background: var(--accent-color);
            color: white;
            border: none;
            margin-bottom: 1rem;
        }

        .btn-home {
            background: #6b7280;
            color: white;
            border: none;
        }

    </style>
</head>
<body>

    <header>
        <h1>ä¸­2ç†ç§‘ å­¦å¹´æœ«è©¦é¨“å¯¾ç­–</h1>
        <div class="version" id="version-display">ver 1.0.0</div>
    </header>

    <div id="app-container">
        
        <!-- ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”»é¢ -->
        <div id="menu-screen" class="screen active">
            <div style="text-align: center; margin-bottom: 1rem;">
                <p>å­¦ç¿’ã™ã‚‹ãƒ¢ãƒ¼ãƒ‰ã‚’é¸ã‚“ã§ãã ã•ã„</p>
                <div class="mode-select">
                    <button class="mode-btn selected" onclick="setMode('sequential')">é †ç•ªé€šã‚Š</button>
                    <button class="mode-btn" onclick="setMode('random')">ãƒ©ãƒ³ãƒ€ãƒ </button>
                </div>
            </div>

            <div class="menu-grid">
                <button class="btn-all" onclick="startQuiz('all')">ğŸ”¥ å…¨åˆ†é‡çµ±åˆãƒãƒ£ãƒ¬ãƒ³ã‚¸</button>
                <button class="category-btn" onclick="startQuiz('static_electricity')">1. é™é›»æ°—ã¨é›»å­</button>
                <button class="category-btn" onclick="startQuiz('current_magnetic')">2. é›»æµã¨ç£ç•Œ</button>
                <button class="category-btn" onclick="startQuiz('force_magnetic')">3. é›»æµãŒç£ç•Œã‹ã‚‰å—ã‘ã‚‹åŠ›</button>
                <button class="category-btn" onclick="startQuiz('induction')">4. é›»ç£èª˜å°ã¨ç™ºé›»</button>
                <button class="category-btn" onclick="startQuiz('force_composition')">5. åŠ›ã®åˆæˆã¨åˆ†è§£</button>
                <button class="category-btn btn-advanced" onclick="startQuiz('adv_electricity')">ğŸš€ ç™ºå±•ï¼šé›»æ°—ã¨ç£æ°—</button>
                <button class="category-btn btn-advanced" onclick="startQuiz('adv_force')">ğŸš€ ç™ºå±•ï¼šåŠ›å­¦</button>
            </div>
        </div>

        <!-- ã‚¯ã‚¤ã‚ºç”»é¢ -->
        <div id="quiz-screen" class="screen">
            <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒªã‚¢ -->
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                <button class="btn-small-nav" onclick="goHome()">ğŸ  ä¸­æ–­</button>
                <div class="timer-display" id="timer-display">00:00.0</div>
                <div style="font-size: 0.9rem; color: #6b7280;">æ®‹ã‚Š: <span id="remaining-count">0</span>å•</div>
            </div>

            <div class="progress-container">
                <div id="progress-bar" class="progress-bar"></div>
            </div>

            <div class="card-container" onclick="flipCard()">
                <div class="card" id="quiz-card">
                    <!-- è¡¨é¢ -->
                    <div class="card-face card-front">
                        <div style="font-size: 0.9rem; color: var(--primary-color); position: absolute; top: 1rem;">Q. <span id="q-num">1</span></div>
                        <div id="question-text" class="question-text">ã“ã“ã«å•é¡ŒãŒè¡¨ç¤ºã•ã‚Œã¾ã™</div>
                        <div class="tap-hint">ã‚¿ãƒƒãƒ—ã—ã¦ç­”ãˆã‚’è¡¨ç¤º</div>
                    </div>
                    <!-- è£é¢ -->
                    <div class="card-face card-back">
                        <div class="answer-content">
                            <div style="font-size: 0.8rem; color: #6b7280; margin-bottom: 0.5rem;">æ­£è§£</div>
                            <div id="answer-text" class="answer-text">ã“ã“ã«ç­”ãˆ</div>
                            <div id="explanation-area" class="explanation-text" style="display:none;"></div>
                        </div>
                        <div style="font-size: 0.8rem; color: #6b7280;">ç†è§£ã§ãã¾ã—ãŸã‹ï¼Ÿ</div>
                    </div>
                </div>
            </div>

            <div class="judgment-area" id="judgment-buttons" style="visibility: hidden;">
                <button class="btn-ng" onclick="handleAnswer(false)">ğŸ˜° ã¾ã  (å¾Œã§ã‚„ã‚‹)</button>
                <button class="btn-ok" onclick="handleAnswer(true)">ğŸ˜Š è¦šãˆãŸï¼</button>
            </div>
        </div>

        <!-- çµæœç”»é¢ -->
        <div id="result-screen" class="screen">
            <div class="result-stats">
                <h2>å­¦ç¿’å®Œäº†ï¼</h2>
                <div class="score-display">
                    <span id="score-num">0</span> / <span id="total-num">0</span>
                </div>
                <div class="time-result">
                    ã‹ã‹ã£ãŸæ™‚é–“: <span id="result-time">00:00.0</span>
                </div>
                <p id="result-message" class="message">ãŠç–²ã‚Œæ§˜ã§ã—ãŸï¼</p>
                
                <div id="retry-container" style="display: none;">
                    <p>é–“é•ãˆãŸå•é¡ŒãŒ <span id="wrong-count" style="color: var(--danger-color); font-weight: bold;">0</span> å•ã‚ã‚Šã¾ã™ã€‚</p>
                    <button class="btn-retry" onclick="retryWrong()">ğŸ’ª é–“é•ãˆãŸå•é¡Œã ã‘ã‚„ã‚‹</button>
                </div>

                <button class="btn-home" onclick="goHome()">ğŸ  ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«æˆ»ã‚‹</button>
            </div>
        </div>

    </div>

    <script>
        // ==========================================
        // è¨­å®šãƒ»ãƒ‡ãƒ¼ã‚¿å®šç¾©
        // ==========================================
        const APP_VERSION = "Ver 1.2.5"; // æ›´æ–°æ™‚ã¯ã“ã“ã‚’æ›¸ãæ›ãˆã‚‹
        document.getElementById('version-display').innerText = APP_VERSION;

        // å•é¡Œãƒ‡ãƒ¼ã‚¿
        const questionsDB = [
            // 1. é™é›»æ°—ã¨é›»å­
            { id: 1, category: 'static_electricity', q: "2ç¨®é¡ã®ç‰©ä½“ã‚’ã“ã™ã‚Šåˆã‚ã›ãŸã¨ãã«ç™ºç”Ÿã—ã€ç‰©ä½“ã«ãŸã¾ã£ãŸé›»æ°—ã‚’ä½•ã¨ã„ã†ã‹ï¼Ÿ", a: "é™é›»æ°—" },
            { id: 2, category: 'static_electricity', q: "ç‰©ä½“ã‚’ã“ã™ã‚Šåˆã‚ã›ãŸã¨ãã€ä¸€æ–¹ã®ç‰©ä½“ã‹ã‚‰ä»–æ–¹ã®ç‰©ä½“ã¸ç§»å‹•ã™ã‚‹ã€Œï¼ï¼ˆãƒã‚¤ãƒŠã‚¹ï¼‰ã®é›»æ°—ã‚’å¸¯ã³ãŸç²’å­ã€ã‚’ä½•ã¨ã„ã†ã‹ï¼Ÿ", a: "é›»å­" },
            { id: 3, category: 'static_electricity', q: "ç•°ãªã‚‹ç¨®é¡ã®é›»æ°—ï¼ˆï¼‹ã¨ï¼ï¼‰ã©ã†ã—ã¯ã€å¼•ãåˆã†ã‹ã€ã—ã‚Šãã‘åˆã†ã‹ï¼Ÿ", a: "å¼•ãåˆã†" },
            { id: 4, category: 'static_electricity', q: "åŒã˜ç¨®é¡ã®é›»æ°—ï¼ˆï¼‹ã¨ï¼‹ã€ï¼ã¨ï¼ï¼‰ã©ã†ã—ã¯ã€å¼•ãåˆã†ã‹ã€ã—ã‚Šãã‘åˆã†ã‹ï¼Ÿ", a: "ã—ã‚Šãã‘åˆã†ï¼ˆåç™ºã™ã‚‹ï¼‰" },
            { id: 5, category: 'static_electricity', q: "ãŸã¾ã£ã¦ã„ãŸé›»æ°—ãŒæµã‚Œå‡ºã™ç¾è±¡ã‚„ã€é›»æ°—ãŒç©ºé–“ã‚’ç§»å‹•ã™ã‚‹ç¾è±¡ã‚’ä½•ã¨ã„ã†ã‹ï¼Ÿ", a: "æ”¾é›»" },
            { id: 6, category: 'static_electricity', q: "æ°—åœ§ã‚’ä½ãã—ãŸç©ºé–“ã‚’é›»æµãŒæµã‚Œã‚‹ç¾è±¡ã‚’ä½•ã¨ã„ã†ã‹ï¼Ÿ", a: "çœŸç©ºæ”¾é›»" },
            { id: 7, category: 'static_electricity', q: "çœŸç©ºæ”¾é›»ã®å®Ÿé¨“ã§ã€ï¼æ¥µï¼ˆé™°æ¥µï¼‰ã‹ã‚‰å‡ºã¦ï¼‹æ¥µã¸å‘ã‹ã†é›»å­ã®æµã‚Œã‚’ä½•ã¨ã„ã†ã‹ï¼Ÿ", a: "é™°æ¥µç·šï¼ˆé›»å­ç·šï¼‰" },
            { id: 8, category: 'static_electricity', q: "é™°æ¥µç·šã«é›»åœ§ã‚’åŠ ãˆãŸã¨ãã€ï¼‹æ¥µã¨ï¼æ¥µã®ã©ã¡ã‚‰ã®æ–¹ã¸æ›²ãŒã‚‹ã‹ï¼Ÿ", a: "ï¼‹æ¥µ", exp: "é›»å­ã¯ï¼ã®é›»æ°—ã‚’æŒã£ã¦ã„ã‚‹ãŸã‚ï¼‹ã«å¼•ãå¯„ã›ã‚‰ã‚Œã¾ã™ã€‚" },
            { id: 9, category: 'static_electricity', q: "é›»æµã®æµã‚Œã‚‹å‘ãã¯ã€Œï¼‹æ¥µã‹ã‚‰ï¼æ¥µã€ã ãŒã€é›»å­ã®ç§»å‹•ã™ã‚‹å‘ãã¯ã©ã¡ã‚‰ã‹ï¼Ÿ", a: "ï¼æ¥µã‹ã‚‰ï¼‹æ¥µ" },
            { id: 10, category: 'static_electricity', q: "Xç·šã‚„Î±ç·šãªã©ã®ã‚ˆã†ã«ã€ç‰©è³ªã‚’é€šã‚Šã¬ã‘ãŸã‚Šç‰©è³ªã®æ€§è³ªã‚’å¤‰ãˆãŸã‚Šã™ã‚‹èƒ½åŠ›ã‚’ã‚‚ã¤ã‚‚ã®ã‚’ã¾ã¨ã‚ã¦ä½•ã¨ã„ã†ã‹ï¼Ÿ", a: "æ”¾å°„ç·š" },

            // 2. é›»æµã¨ç£ç•Œ
            { id: 11, category: 'current_magnetic', q: "ç£çŸ³ã«ã‚ˆã‚‹åŠ›ãŒã¯ãŸã‚‰ãç©ºé–“ã‚’ä½•ã¨ã„ã†ã‹ï¼Ÿ", a: "ç£ç•Œ" },
            { id: 12, category: 'current_magnetic', q: "ç£ç•Œã®ä¸­ã«ç½®ã„ãŸæ–¹ä½ç£é‡ã®ä½•æ¥µãŒæŒ‡ã™å‘ãã‚’ã€Œç£ç•Œã®å‘ãã€ã¨ã™ã‚‹ã‹ï¼Ÿ", a: "Næ¥µ" },
            { id: 13, category: 'current_magnetic', q: "ç£ç•Œã®å‘ãã‚’é †ã«ã¤ãªã„ã§ã§ãã‚‹æ›²ç·šã‚’ä½•ã¨ã„ã†ã‹ï¼Ÿ", a: "ç£åŠ›ç·š" },
            { id: 14, category: 'current_magnetic', q: "ç£åŠ›ç·šã¯ç£çŸ³ã®ä½•æ¥µã‹ã‚‰å‡ºã¦ä½•æ¥µã«å…¥ã‚‹ã‹ï¼Ÿ", a: "Næ¥µã‹ã‚‰å‡ºã¦Sæ¥µã«å…¥ã‚‹" },
            { id: 15, category: 'current_magnetic', q: "ç£åŠ›ç·šã®é–“éš”ãŒã›ã¾ã„ã¨ã“ã‚ã»ã©ã€ç£ç•Œã®å¼·ã•ã¯ã©ã†ãªã£ã¦ã„ã‚‹ã‹ï¼Ÿ", a: "å¼·ã„" },
            { id: 16, category: 'current_magnetic', q: "ç›´ç·šçŠ¶ã®å°ç·šã«é›»æµã‚’æµã—ãŸã¨ãã€ãã®ã¾ã‚ã‚Šã«ã§ãã‚‹ç£ç•Œã®å½¢ã¯ã©ã®ã‚ˆã†ãªã‚‚ã®ã‹ï¼Ÿ", a: "åŒå¿ƒå††çŠ¶" },
            { id: 17, category: 'current_magnetic', q: "å°ç·šã‚’æµã‚Œã‚‹é›»æµã®å‘ãã¨ç£ç•Œã®å‘ãã®é–¢ä¿‚ã‚’è¡¨ã™æ³•å‰‡ï¼ˆå³æ‰‹ã®è¦ªæŒ‡ã‚’é›»æµã®å‘ãã«åˆã‚ã›ãŸã¨ããªã©ï¼‰ã‚’ã€ã€Œã€‡ã€‡ã®æ³•å‰‡ã€ã¨ã„ã†ã‹ï¼Ÿ", a: "å³ã­ã˜ã®æ³•å‰‡" },
            { id: 18, category: 'current_magnetic', q: "å°ç·šã‚’æµã‚Œã‚‹é›»æµã‚’å¤§ããã™ã‚‹ã¨ã€ã¾ã‚ã‚Šã®ç£ç•Œã®å¼·ã•ã¯ã©ã†ãªã‚‹ã‹ï¼Ÿ", a: "å¼·ããªã‚‹" },
            { id: 19, category: 'current_magnetic', q: "ã‚³ã‚¤ãƒ«ã®å†…å´ã«ã§ãã‚‹ç£ç•Œã¯ã€æ›²ãŒã£ã¦ã„ã‚‹ã‹ã€ã¾ã£ã™ãã‹ï¼Ÿ", a: "ã¾ã£ã™ã" },
            { id: 20, category: 'current_magnetic', q: "ã‚³ã‚¤ãƒ«ã«é›»æµã‚’æµã—ãŸã¨ãã€å³æ‰‹ã®4æœ¬ã®æŒ‡ã‚’é›»æµã®å‘ãã«åˆã‚ã›ã‚‹ã¨ã€è¦ªæŒ‡ãŒæŒ‡ã™ã®ã¯ä½•ã®å‘ãã‹ï¼Ÿ", a: "ç£ç•Œã®å‘ãï¼ˆãã®ã‚³ã‚¤ãƒ«ã®Næ¥µã®æ–¹å‘ï¼‰" },
            { id: 21, category: 'current_magnetic', q: "ã‚³ã‚¤ãƒ«ã®ä¸­ã«é‰„å¿ƒã‚’å…¥ã‚Œã‚‹ã¨ã€ç£ç•ŒãŒéå¸¸ã«å¼·ããªã‚‹ã€‚ã“ã‚Œã‚’åˆ©ç”¨ã—ãŸç£çŸ³ã‚’ä½•ã¨ã„ã†ã‹ï¼Ÿ", a: "é›»ç£çŸ³" },
            { id: 22, category: 'current_magnetic', q: "ã‚³ã‚¤ãƒ«ãŒã¤ãã‚‹ç£ç•Œã‚’å¼·ãã™ã‚‹æ–¹æ³•ã‚’ã€ã€Œé‰„å¿ƒã‚’å…¥ã‚Œã‚‹ã€ä»¥å¤–ã§2ã¤ç­”ãˆã‚ˆã€‚", a: "é›»æµã‚’å¤§ããã™ã‚‹ã€ã‚³ã‚¤ãƒ«ã®å·»æ•°ã‚’å¤šãã™ã‚‹" },

            // 3. é›»æµãŒç£ç•Œã‹ã‚‰å—ã‘ã‚‹åŠ›
            { id: 23, category: 'force_magnetic', q: "ç£ç•Œã®ä¸­ã«ã‚ã‚‹å°ç·šã«é›»æµã‚’æµã™ã¨ã€å°ç·šã¯ç£ç•Œã‹ã‚‰åŠ›ã‚’å—ã‘ã‚‹ã€‚é›»æµã®å‘ãã€ç£ç•Œã®å‘ãã€åŠ›ã®å‘ãã¯ã€äº’ã„ã«ã©ã®ã‚ˆã†ãªè§’åº¦ã«ãªã£ã¦ã„ã‚‹ã‹ï¼Ÿ", a: "å‚ç›´" },
            { id: 24, category: 'force_magnetic', q: "é›»æµãŒç£ç•Œã‹ã‚‰å—ã‘ã‚‹åŠ›ã®å‘ãã‚’é€†ã«ã™ã‚‹ã«ã¯ã€ã©ã†ã™ã‚Œã°ã‚ˆã„ã‹ï¼Ÿï¼ˆ2ã¤ï¼‰", a: "é›»æµã®å‘ãã‚’é€†ã«ã™ã‚‹ã€ç£ç•Œã®å‘ãã‚’é€†ã«ã™ã‚‹" },
            { id: 25, category: 'force_magnetic', q: "é›»æµãŒç£ç•Œã‹ã‚‰å—ã‘ã‚‹åŠ›ã®ã€Œå¤§ãã•ã€ã‚’å¤§ããã™ã‚‹ã«ã¯ã€ã©ã†ã™ã‚Œã°ã‚ˆã„ã‹ï¼Ÿï¼ˆ2ã¤ï¼‰", a: "é›»æµã‚’å¤§ããã™ã‚‹ã€ç£åŠ›ã‚’å¼·ãã™ã‚‹" },
            { id: 26, category: 'force_magnetic', q: "é›»æµãŒç£ç•Œã‹ã‚‰å—ã‘ã‚‹åŠ›ã‚’åˆ©ç”¨ã—ã¦ã€ã‚³ã‚¤ãƒ«ãŒé€£ç¶šçš„ã«å›è»¢ã™ã‚‹ã‚ˆã†ã«ã—ãŸè£…ç½®ã‚’ä½•ã¨ã„ã†ã‹ï¼Ÿ", a: "ãƒ¢ãƒ¼ã‚¿ãƒ¼ï¼ˆé›»å‹•æ©Ÿï¼‰" },
            { id: 27, category: 'force_magnetic', q: "ãƒ¢ãƒ¼ã‚¿ãƒ¼ã«ãŠã„ã¦ã€ã‚³ã‚¤ãƒ«ãŒåŠå›è»¢ã™ã‚‹ã”ã¨ã«é›»æµã®å‘ãã‚’è‡ªå‹•çš„ã«åˆ‡ã‚Šã‹ãˆã€åŒã˜å‘ãã«å›è»¢ã—ç¶šã‘ã•ã›ã‚‹éƒ¨å“ã‚’ä½•ã¨ã„ã†ã‹ï¼Ÿ", a: "æ•´æµå­" },
            { id: 28, category: 'force_magnetic', q: "ãƒ•ãƒ¬ãƒŸãƒ³ã‚°ã®å·¦æ‰‹ã®æ³•å‰‡ã«ãŠã„ã¦ã€ä¸­æŒ‡ã¯ä½•ã®å‘ãã‚’è¡¨ã™ã‹ï¼Ÿ", a: "é›»æµã®å‘ã" },
            { id: 29, category: 'force_magnetic', q: "ãƒ•ãƒ¬ãƒŸãƒ³ã‚°ã®å·¦æ‰‹ã®æ³•å‰‡ã«ãŠã„ã¦ã€äººå·®ã—æŒ‡ã¯ä½•ã®å‘ãã‚’è¡¨ã™ã‹ï¼Ÿ", a: "ç£ç•Œã®å‘ã" },
            { id: 30, category: 'force_magnetic', q: "ãƒ•ãƒ¬ãƒŸãƒ³ã‚°ã®å·¦æ‰‹ã®æ³•å‰‡ã«ãŠã„ã¦ã€è¦ªæŒ‡ã¯ä½•ã®å‘ãã‚’è¡¨ã™ã‹ï¼Ÿ", a: "åŠ›ã®å‘ã" },

            // 4. é›»ç£èª˜å°ã¨ç™ºé›»
            { id: 31, category: 'induction', q: "ã‚³ã‚¤ãƒ«ã®ä¸­ã®ç£ç•ŒãŒå¤‰åŒ–ã™ã‚‹ã¨ã€é›»åœ§ãŒç”Ÿã˜ã¦ã‚³ã‚¤ãƒ«ã«é›»æµãŒæµã‚Œã‚‹ç¾è±¡ã‚’ä½•ã¨ã„ã†ã‹ï¼Ÿ", a: "é›»ç£èª˜å°" },
            { id: 32, category: 'induction', q: "é›»ç£èª˜å°ã«ã‚ˆã£ã¦æµã‚Œã‚‹é›»æµã‚’ä½•ã¨ã„ã†ã‹ï¼Ÿ", a: "èª˜å°é›»æµ" },
            { id: 33, category: 'induction', q: "ç£çŸ³ã®Næ¥µã‚’ã‚³ã‚¤ãƒ«ã«è¿‘ã¥ã‘ãŸã¨ãã¨ã€é ã–ã‘ãŸã¨ãã§ã¯ã€æµã‚Œã‚‹èª˜å°é›»æµã®å‘ãã¯ã©ã†ãªã‚‹ã‹ï¼Ÿ", a: "é€†ã«ãªã‚‹" },
            { id: 34, category: 'induction', q: "èª˜å°é›»æµã‚’å¤§ããã™ã‚‹æ–¹æ³•ã‚’3ã¤ç­”ãˆã‚ˆã€‚", a: "ç£çŸ³ã‚’é€Ÿãå‹•ã‹ã™ã€ç£åŠ›ã®å¼·ã„ç£çŸ³ã‚’ä½¿ã†ã€ã‚³ã‚¤ãƒ«ã®å·»æ•°ã‚’å¤šãã™ã‚‹" },
            { id: 35, category: 'induction', q: "ã‚ãšã‹ãªé›»æµã§ã‚‚é‡ãŒæŒ¯ã‚Œã€é›»æµã®å‘ãã‚„å¤§ãã•ã‚’èª¿ã¹ã‚‹ã“ã¨ãŒã§ãã‚‹è¨ˆå™¨ã‚’ä½•ã¨ã„ã†ã‹ï¼Ÿ", a: "æ¤œæµè¨ˆ" },
            { id: 36, category: 'induction', q: "ä¹¾é›»æ± ã®é›»æµã®ã‚ˆã†ã«ã€æµã‚Œã‚‹å‘ããŒå¤‰ã‚ã‚‰ãªã„é›»æµã‚’ä½•ã¨ã„ã†ã‹ï¼Ÿ", a: "ç›´æµ" },
            { id: 37, category: 'induction', q: "å®¶åº­ã®ã‚³ãƒ³ã‚»ãƒ³ãƒˆã®é›»æµã®ã‚ˆã†ã«ã€æµã‚Œã‚‹å‘ãã¨å¤§ãã•ãŒå‘¨æœŸçš„ã«å¤‰ã‚ã‚‹é›»æµã‚’ä½•ã¨ã„ã†ã‹ï¼Ÿ", a: "äº¤æµ" },
            { id: 38, category: 'induction', q: "äº¤æµã«ãŠã„ã¦ã€1ç§’é–“ã«ãã‚Šè¿”ã•ã‚Œã‚‹æ³¢ã®æ•°ï¼ˆé›»æµã®å¤‰åŒ–ã®å›æ•°ï¼‰ã‚’ä½•ã¨ã„ã†ã‹ï¼Ÿ", a: "å‘¨æ³¢æ•°" },
            { id: 39, category: 'induction', q: "å‘¨æ³¢æ•°ã®å˜ä½ã¯ä½•ã‹ï¼Ÿè¨˜å·ã§ç­”ãˆã‚ˆã€‚", a: "Hzï¼ˆãƒ˜ãƒ«ãƒ„ï¼‰" },
            { id: 40, category: 'induction', q: "æ±æ—¥æœ¬ã¨è¥¿æ—¥æœ¬ã§ã¯å‘¨æ³¢æ•°ãŒç•°ãªã‚‹ã€‚ãã‚Œãã‚Œä½•Hzã‹ï¼Ÿ", a: "æ±æ—¥æœ¬ï¼š50Hzã€è¥¿æ—¥æœ¬ï¼š60Hz" },
            { id: 41, category: 'induction', q: "ç™ºå…‰ãƒ€ã‚¤ã‚ªãƒ¼ãƒ‰ï¼ˆLEDï¼‰ã«äº¤æµã®é›»æµã‚’æµã™ã¨ã€å…‰ã‚Šæ–¹ã¯ã©ã†ãªã‚‹ã‹ï¼Ÿ", a: "ç‚¹æ»…ã‚’ãã‚Šè¿”ã™", exp: "é †æ–¹å‘ã®é›»æµã®ã¨ãã ã‘å…‰ã‚‹ãŸã‚ã§ã™ã€‚" },

            // 5. åŠ›ã®åˆæˆã¨åˆ†è§£
            { id: 42, category: 'force_composition', q: "1ã¤ã®ç‰©ä½“ã«ã¯ãŸã‚‰ã2ã¤ã®åŠ›ã‚’ã€ãã‚Œã¨åŒã˜ã¯ãŸã‚‰ãã‚’ã™ã‚‹1ã¤ã®åŠ›ã«ãŠãã‹ãˆã‚‹ã“ã¨ã‚’ä½•ã¨ã„ã†ã‹ï¼Ÿ", a: "åŠ›ã®åˆæˆ" },
            { id: 43, category: 'force_composition', q: "åŠ›ã®åˆæˆã«ã‚ˆã£ã¦æ±‚ã‚ã‚‰ã‚ŒãŸ1ã¤ã®åŠ›ã‚’ä½•ã¨ã„ã†ã‹ï¼Ÿ", a: "åˆåŠ›" },
            { id: 44, category: 'force_composition', q: "ä¸€ç›´ç·šä¸Šã§ã€ŒåŒã˜å‘ãã€ã®2åŠ›ã®åˆåŠ›ã®å¤§ãã•ã¯ã€2åŠ›ã®å’Œã‹ã€å·®ã‹ï¼Ÿ", a: "å’Œ" },
            { id: 45, category: 'force_composition', q: "è§’åº¦ã‚’æŒã£ã¦ã¯ãŸã‚‰ã2åŠ›ã®åˆåŠ›ã‚’æ±‚ã‚ã‚‹ã¨ãã«åˆ©ç”¨ã™ã‚‹ã€ãã®2åŠ›ã‚’2è¾ºã¨ã™ã‚‹å››è§’å½¢ã‚’ä½•ã¨ã„ã†ã‹ï¼Ÿ", a: "å¹³è¡Œå››è¾ºå½¢" },
            { id: 46, category: 'force_composition', q: "2åŠ›ã®è§’åº¦ãŒå¤§ãããªã‚‹ã»ã©ã€åˆåŠ›ã®å¤§ãã•ã¯ã©ã†ãªã‚‹ã‹ï¼Ÿ", a: "å°ã•ããªã‚‹" },
            { id: 47, category: 'force_composition', q: "1ã¤ã®åŠ›ã‚’ã€ãã‚Œã¨åŒã˜ã¯ãŸã‚‰ãã‚’ã™ã‚‹2ã¤ã®åŠ›ã«åˆ†ã‘ã‚‹ã“ã¨ã‚’ä½•ã¨ã„ã†ã‹ï¼Ÿ", a: "åŠ›ã®åˆ†è§£" },
            { id: 48, category: 'force_composition', q: "åŠ›ã®åˆ†è§£ã«ã‚ˆã£ã¦åˆ†ã‘ã‚‰ã‚ŒãŸ2ã¤ã®åŠ›ã‚’ä½•ã¨ã„ã†ã‹ï¼Ÿ", a: "åˆ†åŠ›" },
            { id: 49, category: 'force_composition', q: "1ã¤ã®åŠ›ã‚’2æ–¹å‘ã«åˆ†è§£ã™ã‚‹ã¨ãã€ã‚‚ã¨ã®åŠ›ãŒä½•ã«ãªã‚‹ã‚ˆã†ã«å¹³è¡Œå››è¾ºå½¢ã‚’ä½œå›³ã™ã‚‹ã‹ï¼Ÿ", a: "å¯¾è§’ç·š" },
            { id: 50, category: 'force_composition', q: "æ–œé¢ä¸Šã®ç‰©ä½“ã«ã¯ãŸã‚‰ãé‡åŠ›ã¯ã€ã©ã®ã‚ˆã†ãª2ã¤ã®æ–¹å‘ã«åˆ†è§£ã—ã¦è€ƒãˆã‚‹ã“ã¨ãŒå¤šã„ã‹ï¼Ÿ", a: "æ–œé¢ã«å¹³è¡Œãªåˆ†åŠ›ã¨ã€æ–œé¢ã«å‚ç›´ãªåˆ†åŠ›" },
            { id: 51, category: 'force_composition', q: "æ–œé¢ã®è§’åº¦ã‚’å¤§ããã™ã‚‹ã¨ã€ã€Œæ–œé¢ã«å¹³è¡Œãªåˆ†åŠ›ï¼ˆæ»‘ã‚Šè½ã¡ã‚ˆã†ã¨ã™ã‚‹åŠ›ï¼‰ã€ã®å¤§ãã•ã¯ã©ã†ãªã‚‹ã‹ï¼Ÿ", a: "å¤§ãããªã‚‹" },
            { id: 52, category: 'force_composition', q: "æ–œé¢ä¸Šã®ç‰©ä½“ãŒé™æ­¢ã—ã¦ã„ã‚‹ã¨ãã€é‡åŠ›ã®ã€Œæ–œé¢ã«å‚ç›´ãªåˆ†åŠ›ã€ã¨ã¤ã‚Šåˆã£ã¦ã„ã‚‹åŠ›ã¯ä½•ã‹ï¼Ÿ", a: "å‚ç›´æŠ—åŠ›" },

            // ç™ºå±•ï¼šé›»æ°—ã¨ç£æ°—
            { id: 101, category: 'adv_electricity', q: "é™°æ¥µç·šï¼ˆé›»å­ç·šï¼‰ã«é›»åœ§ã‚’åŠ ãˆã‚‹ã¨ï¼‹æ¥µå´ã«æ›²ãŒã‚‹ã“ã¨ã‹ã‚‰ã€é›»å­ã¯ã©ã®ã‚ˆã†ãªæ€§è³ªã‚’æŒã£ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚‹ã‹ï¼Ÿ", a: "ï¼ï¼ˆãƒã‚¤ãƒŠã‚¹ï¼‰ã®é›»æ°—ã‚’å¸¯ã³ã¦ã„ã‚‹", exp: "ï¼‹ã®é›»æ°—ã¨ï¼ã®é›»æ°—ã¯å¼•ãåˆã†ãŸã‚ã€ï¼‹æ¥µå´ã«å¼•ãå¯„ã›ã‚‰ã‚Œã¾ã™ã€‚" },
            { id: 102, category: 'adv_electricity', q: "ç•°ãªã‚‹ç‰©è³ªï¼ˆã‚¹ãƒˆãƒ­ãƒ¼ã¨ãƒ†ã‚£ãƒƒã‚·ãƒ¥ãªã©ï¼‰ã‚’ã“ã™ã‚Šåˆã‚ã›ã‚‹ã¨é™é›»æ°—ãŒç™ºç”Ÿã™ã‚‹ã®ã¯ãªãœã‹ï¼Ÿã€Œé›»å­ã€ã¨ã„ã†è¨€è‘‰ã‚’ä½¿ã£ã¦èª¬æ˜ã›ã‚ˆã€‚", a: "ä¸€æ–¹ã®ç‰©ä½“ã‹ã‚‰ä»–æ–¹ã®ç‰©ä½“ã¸é›»å­ãŒç§»å‹•ã™ã‚‹ã‹ã‚‰", exp: "é›»å­ã‚’å—ã‘å–ã£ãŸå´ã¯ï¼ã«ã€å¤±ã£ãŸå´ã¯ï¼‹ã«å¸¯é›»ã—ã¾ã™ã€‚" },
            { id: 103, category: 'adv_electricity', q: "é›»ç£çŸ³ã®ã‚³ã‚¤ãƒ«ã®ä¸­ã«é‰„å¿ƒã‚’å…¥ã‚Œã‚‹ã¨ã€ç£ç•ŒãŒéå¸¸ã«å¼·ããªã‚‹ã®ã¯ãªãœã‹ï¼Ÿ", a: "é‰„å¿ƒãŒç£çŸ³ã«ãªã‚Šã€ãã®ç£ç•ŒãŒã‚³ã‚¤ãƒ«ã®ç£ç•Œã«é‡ãªã‚‹ã‹ã‚‰", exp: "å˜ã«ã€Œé‰„ãŒç£æ°—ã‚’é›†ã‚ã‚‹ã€ã ã‘ã§ãªãã€é‰„è‡ªä½“ãŒç£çŸ³åŒ–ã—ã¦ç£ç•Œã‚’å¼·ã‚ã¾ã™ã€‚" },
            { id: 104, category: 'adv_electricity', q: "ã‚³ã‚¤ãƒ«ã«æµã‚Œã‚‹é›»æµãŒã¤ãã‚‹ç£ç•Œã«ã¤ã„ã¦ã€é›»æµã®å‘ãã‚’é€†ã«ã™ã‚‹ã¨ç£ç•Œã®å‘ãã¯ã©ã†ãªã‚‹ã‹ï¼Ÿ", a: "é€†ã«ãªã‚‹" },
            { id: 105, category: 'adv_electricity', q: "ãƒ¢ãƒ¼ã‚¿ãƒ¼ã®æ•´æµå­ã¯ã€ãƒ¢ãƒ¼ã‚¿ãƒ¼ãŒå›ã‚Šç¶šã‘ã‚‹ãŸã‚ã«ã©ã®ã‚ˆã†ãªå½¹å‰²ã‚’æœãŸã—ã¦ã„ã‚‹ã‹ï¼Ÿ", a: "ã‚³ã‚¤ãƒ«ãŒåŠå›è»¢ã™ã‚‹ã”ã¨ã«ã€é›»æµã®å‘ãã‚’åˆ‡ã‚Šã‹ãˆã‚‹å½¹å‰²", exp: "é›»æµã®å‘ããŒå¤‰ã‚ã‚‹ã“ã¨ã§ã€å¸¸ã«åŒã˜å›è»¢æ–¹å‘ã¸ã®åŠ›ã‚’å—ã‘ç¶šã‘ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚" },
            { id: 106, category: 'adv_electricity', q: "ãƒ¢ãƒ¼ã‚¿ãƒ¼ã«ãŠã„ã¦ã€ã€Œç£çŸ³ã®æ¥µã€ã‚’é€†ã«ã—ã€ã•ã‚‰ã«ã€Œé›»æµã®å‘ãã€ã‚‚é€†ã«ã—ãŸå ´åˆã€å›è»¢æ–¹å‘ã¯ã©ã†ãªã‚‹ã‹ï¼Ÿ", a: "å…ƒã®å›è»¢æ–¹å‘ã¨åŒã˜ã«ãªã‚‹", exp: "ç£ç•Œã®å‘ãã¨é›»æµã®å‘ãã®ä¸¡æ–¹ãŒé€†ã«ãªã‚‹ã¨ã€åŠ›ã®å‘ãã¯å…ƒã«æˆ»ã‚Šã¾ã™ã€‚" },
            { id: 107, category: 'adv_electricity', q: "ã‚³ã‚¤ãƒ«ã«ç£çŸ³ã®Næ¥µã‚’è¿‘ã¥ã‘ãŸã¨ãã€æ¤œæµè¨ˆã®é‡ãŒå³ã«æŒ¯ã‚ŒãŸã€‚é‡ã‚’ã€Œå·¦ã€ã«æŒ¯ã‚Œã•ã›ã‚‹æ“ä½œã‚’1ã¤ç­”ãˆã‚ˆã€‚", a: "ç£çŸ³ã®Næ¥µã‚’é ã–ã‘ã‚‹ / ç£çŸ³ã®Sæ¥µã‚’è¿‘ã¥ã‘ã‚‹", exp: "ç£ç•Œã®å¤‰åŒ–ã®å‘ãï¼ˆå¢—ãˆã‚‹ã‹æ¸›ã‚‹ã‹ï¼‰ã‚„ç£çŸ³ã®æ¥µã‚’å¤‰ãˆã‚‹ã¨ã€èª˜å°é›»æµã®å‘ããŒé€†ã«ãªã‚Šã¾ã™ã€‚" },
            { id: 108, category: 'adv_electricity', q: "ç™ºå…‰ãƒ€ã‚¤ã‚ªãƒ¼ãƒ‰ï¼ˆLEDï¼‰ã«äº¤æµã®é›»æµã‚’æµã—ã¦å·¦å³ã«æŒ¯ã‚‹ã¨ã€å…‰ã®ç‚¹ç·šãŒã§ãã‚‹ã€‚ã“ã‚Œã¯äº¤æµã®ã©ã®ã‚ˆã†ãªæ€§è³ªã«ã‚ˆã‚‹ã‚‚ã®ã‹ï¼Ÿ", a: "é›»æµã®æµã‚Œã‚‹å‘ããŒå‘¨æœŸçš„ã«å…¥ã‚Œã‹ã‚ã‚‹æ€§è³ª", exp: "LEDã¯ä¸€æ–¹å‘ã«ã—ã‹é›»æµã‚’é€šã•ãªã„ãŸã‚ã€äº¤æµã§ã¯ç‚¹ç¯ã¨æ¶ˆç¯ã‚’ç¹°ã‚Šè¿”ã—ã¾ã™ã€‚" },
            { id: 109, category: 'adv_electricity', q: "ã€Œç™ºé›»æ©Ÿã€ã¨ã€Œãƒ¢ãƒ¼ã‚¿ãƒ¼ã€ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼å¤‰æ›ã®é•ã„ã¯ï¼Ÿ", a: "ç™ºé›»æ©Ÿï¼šé‹å‹•â†’é›»æ°—\nãƒ¢ãƒ¼ã‚¿ãƒ¼ï¼šé›»æ°—â†’é‹å‹•", exp: "ç™ºé›»æ©Ÿã¯å›ã—ã¦é›»æ°—ã‚’ä½œã‚Šã€ãƒ¢ãƒ¼ã‚¿ãƒ¼ã¯é›»æ°—ã§å›ã‚Šã¾ã™ã€‚" },
            { id: 110, category: 'adv_electricity', q: "ï¼µå­—å‹ç£çŸ³ã®é–“ã«ç½®ã„ãŸã‚³ã‚¤ãƒ«ã«é›»æµã‚’æµã—ãŸã¨ãã€ã‚³ã‚¤ãƒ«ãŒå—ã‘ã‚‹åŠ›ã‚’å¤§ããã™ã‚‹ã«ã¯ã€ã€ŒæŠµæŠ—å™¨ã€ã‚’ã©ã†ã™ã‚Œã°ã‚ˆã„ã‹ï¼Ÿ", a: "æŠµæŠ—ã®å€¤ã‚’å°ã•ãã™ã‚‹", exp: "æŠµæŠ—ã‚’å°ã•ãã™ã‚‹ã¨é›»æµãŒå¤§ãããªã‚Šã€åŠ›ã‚‚å¼·ããªã‚Šã¾ã™ã€‚" },

            // ç™ºå±•ï¼šåŠ›å­¦
            { id: 111, category: 'adv_force', q: "2äººãŒè·ç‰©ã‚’æŒã¤ã¨ãã€2äººã®é–“éš”ã‚’åºƒã’ã¦è§’åº¦ã‚’å¤§ããã—ã¦ã„ãã¨ã€1äººãŒå¿…è¦ãªåŠ›ã¯ã©ã†ãªã‚‹ã‹ï¼Ÿ", a: "å¤§ãããªã‚‹", exp: "è§’åº¦ãŒå¤§ãããªã‚‹ã»ã©ã€åˆåŠ›ãŒå°ã•ããªã‚‹ãŸã‚ï¼ˆåŒã˜é‡ã•ã‚’æ”¯ãˆã‚‹ã«ã¯ã€ã‚ˆã‚Šå¤§ããªåˆ†åŠ›ãŒå¿…è¦ï¼‰ã€‚" },
            { id: 112, category: 'adv_force', q: "æ–œé¢ä¸Šã«ã‚ã‚‹ç‰©ä½“ã«ã¯ãŸã‚‰ãé‡åŠ›ã‚’ã€ã€Œå¹³è¡Œã€ã¨ã€Œå‚ç›´ã€ã«åˆ†è§£ã™ã‚‹ã®ã¯ãªãœã‹ï¼Ÿ", a: "æ»‘ã‚Šè½ã¡ã‚‹å‹•ãã¨ã€é¢ã‚’æŠ¼ã™å‹•ãã«é–¢ä¿‚ã™ã‚‹åŠ›ã«åˆ†ã‘ã‚‹ãŸã‚", exp: "å‹•ãã®æ–¹å‘ã«åˆã‚ã›ãŸæˆåˆ†ã«åˆ†ã‘ã‚‹ã“ã¨ã§ã€é‹å‹•ã‚’ç†è§£ã—ã‚„ã™ããªã‚Šã¾ã™ã€‚" },
            { id: 113, category: 'adv_force', q: "æ–œé¢ã®å‚¾ãï¼ˆè§’åº¦ï¼‰ã‚’æ€¥ã«ã™ã‚‹ã¨ã€é‡åŠ›ã®ã€Œæ–œé¢ã«å¹³è¡Œãªåˆ†åŠ›ã€ã¨ã€Œå‚ç›´ãªåˆ†åŠ›ã€ã¯ã©ã†å¤‰åŒ–ã™ã‚‹ã‹ï¼Ÿ", a: "å¹³è¡Œãªåˆ†åŠ›ï¼šå¤§ãããªã‚‹\nå‚ç›´ãªåˆ†åŠ›ï¼šå°ã•ããªã‚‹", exp: "å‚ãŒæ€¥ã«ãªã‚‹ã»ã©è½ã¡ã‚ˆã†ã¨ã™ã‚‹åŠ›ã¯å¢—ã—ã€åœ°é¢ã‚’æŠ¼ã•ãˆã¤ã‘ã‚‹åŠ›ã¯æ¸›ã‚Šã¾ã™ã€‚" },
            { id: 114, category: 'adv_force', q: "æ–œé¢ä¸Šã®ç‰©ä½“ãŒé™æ­¢ã—ã¦ã„ã‚‹ã¨ãã€é‡åŠ›ã®ã€Œæ–œé¢ã«å¹³è¡Œãªåˆ†åŠ›ã€ã¨ã¤ã‚Šåˆã£ã¦ã„ã‚‹åŠ›ã¯ä½•ã‹ï¼Ÿ", a: "æ‘©æ“¦åŠ›", exp: "æ»‘ã‚Šè½ã¡ã‚ˆã†ã¨ã™ã‚‹åŠ›ï¼ˆå¹³è¡Œãªåˆ†åŠ›ï¼‰ã‚’ã€é€†å‘ãã®æ‘©æ“¦åŠ›ãŒæ‰“ã¡æ¶ˆã—ã¦æ­¢ã‚ã¦ã„ã¾ã™ã€‚" },
            { id: 115, category: 'adv_force', q: "1ã¤ã®ç‚¹ã«ã¯ãŸã‚‰ã2åŠ›ã®åˆåŠ›ã‚’ä½œå›³ã™ã‚‹ã¨ãã€ã©ã®ã‚ˆã†ãªå›³å½¢ã‚’æã‘ã°ã‚ˆã„ã‹ï¼Ÿ", a: "å¹³è¡Œå››è¾ºå½¢", exp: "2åŠ›ã‚’2è¾ºã¨ã™ã‚‹å¹³è¡Œå››è¾ºå½¢ã®å¯¾è§’ç·šãŒåˆåŠ›ã§ã™ã€‚" },
            { id: 116, category: 'adv_force', q: "ä¸€ç›´ç·šä¸Šã«ãªã„2åŠ›ã®åˆåŠ›Fã®å¤§ãã•ã«ã¤ã„ã¦ã€æ­£ã—ã„å¼ã¯ï¼Ÿï¼ˆF1+F2 = F ã¾ãŸã¯ F1+F2 > Fï¼‰", a: "F1 + F2 > F", exp: "ä¸‰è§’å½¢ã®2è¾ºã®å’Œã¯ä»–ã®ä¸€è¾ºã‚ˆã‚Šé•·ã„ã¨ã„ã†ç†å±ˆã¨åŒã˜ã§ã™ã€‚" },
            { id: 117, category: 'adv_force', q: "3ã¤ã®åŠ›F1,F2,F3ãŒã¤ã‚Šåˆã£ã¦ã„ã‚‹ã¨ãã€F1ã¨F2ã®åˆåŠ›Fã¨ã€F3ã¨ã®é–¢ä¿‚ã¯ï¼Ÿ", a: "å¤§ãã•ã¯ç­‰ã—ãã€å‘ãã¯åå¯¾ã§ä¸€ç›´ç·šä¸Šã«ã‚ã‚‹", exp: "2ã¤ã®åŠ›ã‚’ã¾ã¨ã‚ãŸåˆåŠ›ãŒã€æ®‹ã‚Šã®1ã¤ã®åŠ›ã¨ã¤ã‚Šåˆã†é–¢ä¿‚ã«ãªã‚Šã¾ã™ã€‚" },
            { id: 118, category: 'adv_force', q: "å‚é“ã«è»Šã‚’æ­¢ã‚ã¦ãŠãã¨ãã€å‚ãŒæ€¥ãªã»ã©ãƒ–ãƒ¬ãƒ¼ã‚­ã‚’å¼·ãã‹ã‘ãªã‘ã‚Œã°ãªã‚‰ãªã„ç†ç”±ã¯ï¼Ÿï¼ˆåˆ†åŠ›ã‚’ä½¿ã£ã¦ï¼‰", a: "é‡åŠ›ã®æ–œé¢ã«å¹³è¡Œãªåˆ†åŠ›ãŒå¤§ãããªã‚‹ãŸã‚", exp: "æ»‘ã‚Šè½ã¡ã‚ˆã†ã¨ã™ã‚‹åŠ›ãŒå¤§ãããªã‚‹ã®ã§ã€ãã‚Œã‚’æ”¯ãˆã‚‹æ‘©æ“¦åŠ›ã‚‚å¤§ããã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚" },
            { id: 119, category: 'adv_force', q: "10Nã®åŠ›ã‚’åˆ†è§£ã™ã‚‹ã¨ãã€åˆ†è§£ã—ã¦ã§ãã‚‹2ã¤ã®åˆ†åŠ›ã¯ã€ã©ã¡ã‚‰ã‚‚10Nã‚ˆã‚Šå¤§ãããªã‚‹ã“ã¨ã¯ã‚ã‚‹ã‹ï¼Ÿ", a: "ã‚ã‚‹", exp: "åˆ†åŠ›ã®è§’åº¦ãŒéå¸¸ã«å¤§ãã„ï¼ˆ180åº¦ã«è¿‘ã¥ãï¼‰å ´åˆã€å¹³è¡Œå››è¾ºå½¢ã®è¾ºã¯å¯¾è§’ç·šã‚ˆã‚Šã‚‚é•·ããªã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚" },
            { id: 120, category: 'adv_force', q: "ã€Œå‚ç›´æŠ—åŠ›ã€ã¨ã¯ã€å…·ä½“çš„ã«ã©ã®ã‚ˆã†ãªåŠ›ã‹ï¼Ÿ", a: "æ–œé¢ãŒç‰©ä½“ã‚’ã€é¢ã«å‚ç›´ã«æŠ¼ã—è¿”ã™åŠ›", exp: "é‡åŠ›ã®æ–œé¢ã«å‚ç›´ãªåˆ†åŠ›ã¨ã¤ã‚Šåˆã£ã¦ã„ã¾ã™ã€‚" }
        ];

        // ==========================================
        // ã‚¢ãƒ—ãƒªã®çŠ¶æ…‹ç®¡ç†
        // ==========================================
        let currentQueue = [];
        let currentIndex = 0;
        let correctCount = 0;
        let wrongQueue = [];
        let currentMode = 'sequential'; // 'sequential' or 'random'
        let isCardFlipped = false;
        
        // ã‚¿ã‚¤ãƒãƒ¼ç”¨å¤‰æ•°
        let timerInterval;
        let startTime;

        // ==========================================
        // UIåˆ¶å¾¡é–¢æ•°
        // ==========================================

        function setMode(mode) {
            currentMode = mode;
            document.querySelectorAll('.mode-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            event.target.classList.add('selected');
        }

        function switchScreen(screenId) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
        }

        // ==========================================
        // ã‚¿ã‚¤ãƒãƒ¼ãƒ­ã‚¸ãƒƒã‚¯
        // ==========================================
        function startTimer() {
            startTime = Date.now();
            updateTimerDisplay(); // åˆå›æç”»
            timerInterval = setInterval(updateTimerDisplay, 100); // 100msã”ã¨ã«æ›´æ–°
        }

        function stopTimer() {
            clearInterval(timerInterval);
        }

        function updateTimerDisplay() {
            const now = Date.now();
            const diff = now - startTime;
            const formatted = formatTime(diff);
            document.getElementById('timer-display').innerText = formatted;
        }

        function formatTime(ms) {
            const totalSeconds = Math.floor(ms / 1000);
            const minutes = Math.floor(totalSeconds / 60);
            const seconds = totalSeconds % 60;
            const tenths = Math.floor((ms % 1000) / 100); // 0.1ç§’å˜ä½
            return `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}.${tenths}`;
        }

        // ==========================================
        // ã‚¯ã‚¤ã‚ºãƒ­ã‚¸ãƒƒã‚¯
        // ==========================================

        function startQuiz(category) {
            // å•é¡Œã®æŠ½å‡º
            if (category === 'all') {
                // ç™ºå±•ä»¥å¤–ã®å…¨ã¦
                currentQueue = questionsDB.filter(q => !q.category.startsWith('adv_'));
            } else {
                currentQueue = questionsDB.filter(q => q.category === category);
            }

            if (currentQueue.length === 0) {
                alert("ã“ã®ã‚«ãƒ†ã‚´ãƒªã®å•é¡Œã¯ã¾ã ã‚ã‚Šã¾ã›ã‚“ã€‚");
                return;
            }

            // ãƒ©ãƒ³ãƒ€ãƒ ãƒ¢ãƒ¼ãƒ‰ãªã‚‰ã‚·ãƒ£ãƒƒãƒ•ãƒ«
            if (currentMode === 'random') {
                shuffleArray(currentQueue);
            } else {
                // é †ç•ªé€šã‚Šã®å ´åˆã€IDé †ã«ã‚½ãƒ¼ãƒˆï¼ˆå¿µã®ãŸã‚ï¼‰
                currentQueue.sort((a, b) => a.id - b.id);
            }

            // åˆæœŸåŒ–
            currentIndex = 0;
            correctCount = 0;
            wrongQueue = [];
            
            updateProgress();
            showCard();
            switchScreen('quiz-screen');
            startTimer(); // ã‚¿ã‚¤ãƒãƒ¼ã‚¹ã‚¿ãƒ¼ãƒˆ
        }

        function retryWrong() {
            currentQueue = [...wrongQueue]; // ã‚³ãƒ”ãƒ¼ã‚’ä½œæˆ
            wrongQueue = []; // ãƒªã‚»ãƒƒãƒˆ
            currentIndex = 0;
            correctCount = 0;
            
            // é–“é•ãˆãŸå•é¡Œã¯ãƒ©ãƒ³ãƒ€ãƒ ã«å‡ºé¡Œã—ãŸã»ã†ãŒåŠ¹æœçš„ãªã®ã§ã‚·ãƒ£ãƒƒãƒ•ãƒ«
            shuffleArray(currentQueue);

            updateProgress();
            showCard();
            switchScreen('quiz-screen');
            startTimer(); // ã‚¿ã‚¤ãƒãƒ¼ã‚¹ã‚¿ãƒ¼ãƒˆ
        }

        function showCard() {
            const card = document.getElementById('quiz-card');
            const q = currentQueue[currentIndex];
            
            // ã‚«ãƒ¼ãƒ‰ã‚’è¡¨é¢ã«æˆ»ã™
            card.classList.remove('flipped');
            isCardFlipped = false;

            // ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚»ãƒƒãƒˆ
            setTimeout(() => {
                document.getElementById('q-num').innerText = `${currentIndex + 1} / ${currentQueue.length}`;
                document.getElementById('question-text').innerText = q.q;
                
                // è£é¢ï¼ˆç­”ãˆï¼‰ã®æº–å‚™
                document.getElementById('answer-text').innerText = q.a;
                const expArea = document.getElementById('explanation-area');
                if (q.exp) {
                    expArea.innerText = "è§£èª¬: " + q.exp;
                    expArea.style.display = "block";
                } else {
                    expArea.style.display = "none";
                }

                // ãƒœã‚¿ãƒ³ã‚’éš ã™
                document.getElementById('judgment-buttons').style.visibility = 'hidden';
            }, 200); // ã‚«ãƒ¼ãƒ‰ãŒè£è¿”ã£ã¦ã„ã‚‹é–“ã«æ›¸ãæ›ãˆã‚‹
        }

        function flipCard() {
            const card = document.getElementById('quiz-card');
            
            // ã‚«ãƒ¼ãƒ‰ãŒæ—¢ã«è£è¿”ã£ã¦ã„ã‚‹ï¼ˆç­”ãˆè¡¨ç¤ºä¸­ï¼‰ã®å ´åˆ
            if (isCardFlipped) {
                card.classList.remove('flipped'); // è¡¨ã«æˆ»ã™
                isCardFlipped = false;
                document.getElementById('judgment-buttons').style.visibility = 'hidden'; // ãƒœã‚¿ãƒ³ã‚’éš ã™
            } else {
                // ã‚«ãƒ¼ãƒ‰ãŒè¡¨ï¼ˆå•é¡Œè¡¨ç¤ºä¸­ï¼‰ã®å ´åˆ
                card.classList.add('flipped'); // è£è¿”ã™
                isCardFlipped = true;

                // å°‘ã—é…ã‚Œã¦åˆ¤å®šãƒœã‚¿ãƒ³ã‚’è¡¨ç¤º
                setTimeout(() => {
                    if (isCardFlipped) { // ã¾ã è£ã®çŠ¶æ…‹ãªã‚‰è¡¨ç¤º
                        document.getElementById('judgment-buttons').style.visibility = 'visible';
                    }
                }, 300);
            }
        }

        function handleAnswer(isCorrect) {
            const currentQ = currentQueue[currentIndex];

            if (isCorrect) {
                correctCount++;
            } else {
                wrongQueue.push(currentQ);
            }

            // æ¬¡ã¸
            currentIndex++;
            updateProgress();

            if (currentIndex < currentQueue.length) {
                showCard();
            } else {
                finishQuiz();
            }
        }

        function updateProgress() {
            const progress = (currentIndex / currentQueue.length) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
            document.getElementById('remaining-count').innerText = currentQueue.length - currentIndex;
        }

        function finishQuiz() {
            stopTimer(); // ã‚¿ã‚¤ãƒãƒ¼ã‚¹ãƒˆãƒƒãƒ—
            
            // æœ€çµ‚ã‚¿ã‚¤ãƒ ã®è¡¨ç¤ºæ›´æ–°
            const finalTime = document.getElementById('timer-display').innerText;
            document.getElementById('result-time').innerText = finalTime;

            document.getElementById('score-num').innerText = correctCount;
            document.getElementById('total-num').innerText = currentQueue.length;
            
            const msg = document.getElementById('result-message');
            const retryContainer = document.getElementById('retry-container');
            const wrongCountSpan = document.getElementById('wrong-count');

            if (wrongQueue.length === 0) {
                msg.innerText = "ç´ æ™´ã‚‰ã—ã„ï¼å…¨å•æ­£è§£ã§ã™ï¼ğŸ‰";
                msg.style.color = "var(--success-color)";
                retryContainer.style.display = "none";
            } else {
                msg.innerText = "æƒœã—ã„ï¼ã¾ã ä¼¸ã³ã—ã‚ãŒã‚ã‚Šã¾ã™ã€‚";
                msg.style.color = "var(--text-color)";
                wrongCountSpan.innerText = wrongQueue.length;
                retryContainer.style.display = "block";
            }

            switchScreen('result-screen');
        }

        function goHome() {
            stopTimer(); // ã‚¿ã‚¤ãƒãƒ¼ã‚¹ãƒˆãƒƒãƒ—
            switchScreen('menu-screen');
        }

        // ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£: é…åˆ—ã‚·ãƒ£ãƒƒãƒ•ãƒ« (Fisher-Yates)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        // åˆæœŸè¨­å®š
        window.onload = function() {
            // PWAã¨ã—ã¦å‹•ãéš›ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒã‚¦ãƒ³ã‚¹é˜²æ­¢ãªã©
            document.body.addEventListener('touchmove', function(e) {
                if(e.target.closest('.explanation-text')) return; // è§£èª¬ã‚¨ãƒªã‚¢ã¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«è¨±å¯
                // e.preventDefault(); // å¿…è¦ã«å¿œã˜ã¦æœ‰åŠ¹åŒ–
            }, { passive: false });
        }

    </script>
</body>
</html>